<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎯 Coach Mission Control - Universal Coaching Platform</title>
    <link rel="stylesheet" href="css/common-gray.css">
    <link rel="stylesheet" href="css/coach-gray.css">
    <style>
        .admin-dashboard {
            padding: 30px;
            background: #f8fafc;
            border-radius: 12px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #3b82f6;
        }
        
        .dashboard-card h3 {
            margin: 0 0 15px 0;
            color: #1f2937;
            font-size: 1.2rem;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #3b82f6;
            margin: 10px 0;
        }
        
        .method-performance {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .method-performance:last-child {
            border-bottom: none;
        }
        
        .performance-bar {
            width: 60px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .performance-fill {
            height: 100%;
            background: #3b82f6;
            transition: width 0.3s ease;
        }
        
        .calendar-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .calendar-item:last-child {
            border-bottom: none;
        }
        
        .calendar-time {
            font-weight: 600;
            color: #3b82f6;
            font-size: 0.9rem;
        }
        
        .revenue-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .revenue-item:last-child {
            border-bottom: none;
        }
        
        .revenue-amount {
            font-weight: bold;
            color: #10b981;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 Coach Mission Control</h1>
        <p class="subtitle">Universal Coaching Platform mit 6 bewährten Methoden</p>
        
        <div class="tab-navigation">
            <button class="tab-btn active" data-tab="clients">👥 Klienten</button>
            <button class="tab-btn" data-tab="coaching">🎯 Coaching</button>
            <button class="tab-btn" data-tab="collaboration">🤝 Kollaboration</button>
            <button class="tab-btn" data-tab="coachki">🧠 Coach-KI</button>
            <button class="tab-btn" data-tab="admin">📊 Admin Dashboard</button>
        </div>

        <!-- Klienten Tab -->
        <div id="clientsTab" class="tab-content active">
            <h2>👥 Klienten auswählen</h2>
            <div class="clients-container" id="clientsContainer">
                <!-- Wird von clients.js gefüllt -->
            </div>
        </div>

        <!-- Coaching Tab -->
        <div id="coachingTab" class="tab-content">
            <div class="coaching-layout">
                <div class="prompt-repository">
                    <h3>🧰 Prompt Repository</h3>
                    <div class="method-selector">
                        <label for="methodSelect">Coaching-Methode:</label>
                        <select id="methodSelect">
                            <option value="systemic">🔄 Systemisches Coaching</option>
                            <option value="solution">💡 Lösungsorientiertes Coaching</option>
                            <option value="values">🎯 Werte- & Sinnorientiertes Coaching</option>
                            <option value="gestalt">🎭 Gestalt-/Erlebnisorientiertes Coaching</option>
                            <option value="triadic">🧠 Triadisches KI-Coaching</option>
                            <option value="resource">💪 Ressourcenorientiertes Coaching</option>
                        </select>
                    </div>
                    <div class="prompts-container" id="promptsContainer">
                        <!-- Wird von prompts.js gefüllt -->
                    </div>
                </div>
                <div class="prompt-editor">
                    <h3>✏️ Prompt Editor</h3>
                    <div class="editor-header">
                        <span id="currentClient">Klient auswählen</span>
                        <span id="currentMethod">Methode wählen</span>
                    </div>
                    <textarea id="promptEditor" placeholder="Ihr Coaching-Prompt für den ausgewählten Klienten..."></textarea>
                    <button id="executePrompt" onclick="executeCoachingPrompt()">🚀 Prompt ausführen</button>
                </div>
            </div>
        </div>

        <!-- Kollaboration Tab -->
        <div id="collaborationTab" class="tab-content">
            <h2>🤝 Kollaboration Monitor</h2>
            <div class="collaboration-info">
                <p>Überwachen Sie aktive Coaching-Sessions und kommunizieren Sie live mit Ihren Klienten.</p>
                <div class="collaboration-stats">
                    <div class="stat-item">
                        <span class="stat-label">Aktive Sessions:</span>
                        <span class="stat-value" id="activeSessions">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Wartende Klienten:</span>
                        <span class="stat-value" id="waitingClients">0</span>
                    </div>
                </div>
                <button onclick="openCollaborationWindow()" class="primary-button">
                    🔗 Kollaborations-Fenster öffnen
                </button>
            </div>
        </div>

        <!-- Coach-KI Tab -->
        <div id="coachkiTab" class="tab-content">
            <h2>🧠 Coach-KI Assistent</h2>
            <div class="coach-ki-interface">
                <div class="ki-chat-area">
                    <div class="chat-messages" id="kiChatMessages">
                        <div class="message assistant">
                            <strong>Coach-KI:</strong> Hallo! Ich bin Ihr KI-Assistent für alle Coaching-Methoden. 
                            Stellen Sie mir Fragen zu Ihren Klienten oder bitten Sie um methodenspezifische Unterstützung.
                        </div>
                    </div>
                    <div class="chat-input">
                        <textarea id="kiInput" placeholder="Fragen Sie die Coach-KI..."></textarea>
                        <button onclick="sendToCoachKI()">📤 Senden</button>
                    </div>
                </div>
                <div class="ki-suggestions">
                    <h4>💡 Vorschläge:</h4>
                    <button onclick="suggestPrompt('Wie beginne ich eine systemische Coaching-Session?')">
                        Systemisches Coaching starten
                    </button>
                    <button onclick="suggestPrompt('Welche Fragen eignen sich für lösungsorientiertes Coaching?')">
                        Lösungsorientierte Fragen
                    </button>
                    <button onclick="suggestPrompt('Wie erkenne ich die Werte meines Klienten?')">
                        Werte identifizieren
                    </button>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard Tab -->
        <div id="adminTab" class="tab-content">
            <div class="admin-dashboard">
                <h2>📊 Admin Dashboard</h2>
                
                <div class="dashboard-grid">
                    <!-- Klienten-Statistiken -->
                    <div class="dashboard-card">
                        <h3>👥 Klienten-Übersicht</h3>
                        <div class="stat-number" id="totalClients">10</div>
                        <p>Gesamt-Klienten</p>
                        <div style="margin-top: 15px;">
                            <div class="method-performance">
                                <span>Aktive Klienten</span>
                                <strong id="activeClients">8</strong>
                            </div>
                            <div class="method-performance">
                                <span>Neue diese Woche</span>
                                <strong id="newClients">3</strong>
                            </div>
                            <div class="method-performance">
                                <span>Demo-Klienten</span>
                                <strong id="demoClients">5</strong>
                            </div>
                        </div>
                    </div>

                    <!-- Session-Statistiken -->
                    <div class="dashboard-card">
                        <h3>📈 Session-Statistiken</h3>
                        <div class="stat-number" id="totalSessions">47</div>
                        <p>Sessions diesen Monat</p>
                        <div style="margin-top: 15px;">
                            <div class="method-performance">
                                <span>Diese Woche</span>
                                <strong>12</strong>
                            </div>
                            <div class="method-performance">
                                <span>Durchschnitt/Tag</span>
                                <strong>2.1</strong>
                            </div>
                            <div class="method-performance">
                                <span>Erfolgsrate</span>
                                <strong>94%</strong>
                            </div>
                        </div>
                    </div>

                    <!-- Method-Performance -->
                    <div class="dashboard-card">
                        <h3>🎯 Method-Performance</h3>
                        <div class="method-performance">
                            <span>🔄 Systemisches Coaching</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 85%"></div>
                            </div>
                            <span>85%</span>
                        </div>
                        <div class="method-performance">
                            <span>💡 Lösungsorientiert</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 78%"></div>
                            </div>
                            <span>78%</span>
                        </div>
                        <div class="method-performance">
                            <span>🎯 Werte & Sinn</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 92%"></div>
                            </div>
                            <span>92%</span>
                        </div>
                        <div class="method-performance">
                            <span>🎭 Gestalt</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 71%"></div>
                            </div>
                            <span>71%</span>
                        </div>
                        <div class="method-performance">
                            <span>🧠 KI-Coaching</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 89%"></div>
                            </div>
                            <span>89%</span>
                        </div>
                        <div class="method-performance">
                            <span>💪 Ressourcenorientiert</span>
                            <div class="performance-bar">
                                <div class="performance-fill" style="width: 83%"></div>
                            </div>
                            <span>83%</span>
                        </div>
                    </div>

                    <!-- Terminkalender -->
                    <div class="dashboard-card">
                        <h3>📅 Heutige Termine</h3>
                        <div class="calendar-item">
                            <div>
                                <div><strong>Lisa Müller</strong></div>
                                <div style="font-size: 0.9rem; color: #6b7280;">Systemisches Coaching</div>
                            </div>
                            <div class="calendar-time">09:00</div>
                        </div>
                        <div class="calendar-item">
                            <div>
                                <div><strong>Marcus Weber</strong></div>
                                <div style="font-size: 0.9rem; color: #6b7280;">Lösungsorientiert</div>
                            </div>
                            <div class="calendar-time">11:15</div>
                        </div>
                        <div class="calendar-item">
                            <div>
                                <div><strong>Sarah Klein</strong></div>
                                <div style="font-size: 0.9rem; color: #6b7280;">Werte & Sinn</div>
                            </div>
                            <div class="calendar-time">14:30</div>
                        </div>
                        <div class="calendar-item">
                            <div>
                                <div><strong>Thomas Müller</strong></div>
                                <div style="font-size: 0.9rem; color: #6b7280;">Gestalt-Coaching</div>
                            </div>
                            <div class="calendar-time">16:00</div>
                        </div>
                    </div>

                    <!-- Abrechnungen -->
                    <div class="dashboard-card">
                        <h3>💰 Abrechnungen</h3>
                        <div class="stat-number" id="monthlyRevenue">€3.240</div>
                        <p>Umsatz diesen Monat</p>
                        <div style="margin-top: 15px;">
                            <div class="revenue-item">
                                <span>Sessions (47x €80)</span>
                                <span class="revenue-amount">€3.760</span>
                            </div>
                            <div class="revenue-item">
                                <span>Stornierungen (-2x €80)</span>
                                <span style="color: #ef4444;">-€160</span>
                            </div>
                            <div class="revenue-item">
                                <span>Bonus-Sessions (8x €20)</span>
                                <span class="revenue-amount">€160</span>
                            </div>
                            <div class="revenue-item" style="border-top: 2px solid #3b82f6; font-weight: bold;">
                                <span>Gesamt-Umsatz</span>
                                <span class="revenue-amount">€3.760</span>
                            </div>
                        </div>
                    </div>

                    <!-- Klientenverwaltung -->
                    <div class="dashboard-card">
                        <h3>🗂️ Schnell-Aktionen</h3>
                        <button onclick="showAddClientModal()" style="width: 100%; margin-bottom: 10px; padding: 12px; background: #3b82f6; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ➕ Neuen Klient hinzufügen
                        </button>
                        <button onclick="exportClientData()" style="width: 100%; margin-bottom: 10px; padding: 12px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            📊 Daten exportieren
                        </button>
                        <button onclick="generateReport()" style="width: 100%; margin-bottom: 10px; padding: 12px; background: #f59e0b; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            📋 Monats-Report
                        </button>
                        <button onclick="backupData()" style="width: 100%; padding: 12px; background: #6b7280; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            💾 Backup erstellen
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="data/prompts.js"></script>
    <script src="data/clients.js"></script>
    <script src="js/communication.js"></script>
    <script src="js/common.js"></script>
    <script src="js/coach.js"></script>
    
    <script>
        // Admin Dashboard Funktionen
        function showAddClientModal() {
            alert('Neuen Klient hinzufügen - Feature wird geöffnet');
        }
        
        function exportClientData() {
            alert('Daten werden exportiert...');
        }
        
        function generateReport() {
            alert('Monats-Report wird generiert...');
        }
        
        function backupData() {
            alert('Backup wird erstellt...');
        }
        
        // Coach-KI Funktionen
        function sendToCoachKI() {
            const input = document.getElementById('kiInput');
            const messages = document.getElementById('kiChatMessages');
            
            if (input.value.trim()) {
                // User-Nachricht hinzufügen
                const userMsg = document.createElement('div');
                userMsg.className = 'message user';
                userMsg.innerHTML = `<strong>Sie:</strong> ${input.value}`;
                messages.appendChild(userMsg);
                
                // KI-Antwort simulieren
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'message assistant';
                    aiMsg.innerHTML = `<strong>Coach-KI:</strong> Das ist eine interessante Frage zu "${input.value}". Basierend auf den 6 Coaching-Methoden empfehle ich...`;
                    messages.appendChild(aiMsg);
                    messages.scrollTop = messages.scrollHeight;
                }, 1000);
                
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
            }
        }
        
        function suggestPrompt(suggestion) {
            document.getElementById('kiInput').value = suggestion;
        }
        
        // Kollaboration Funktionen
        function openCollaborationWindow() {
            window.open('/collaboration-window.html', 'collaboration', 'width=800,height=600');
        }
        
        // Coaching Funktionen
        function executeCoachingPrompt() {
            const prompt = document.getElementById('promptEditor').value;
            const client = document.getElementById('currentClient').textContent;
            const method = document.getElementById('methodSelect').value;
            
            if (prompt && client !== 'Klient auswählen') {
                alert(`Coaching-Prompt ausgeführt für ${client} mit ${method}-Methode:\n\n"${prompt}"`);
            } else {
                alert('Bitte wählen Sie erst einen Klienten und geben Sie einen Prompt ein.');
            }
        }
        
        // Method-Select Change Handler
        document.getElementById('methodSelect').addEventListener('change', function() {
            const selectedMethod = this.value;
            document.getElementById('currentMethod').textContent = this.options[this.selectedIndex].text;
            
            // Prompts für gewählte Methode laden
            if (window.loadPromptsForMethod) {
                window.loadPromptsForMethod(selectedMethod);
            }
        });
        
        console.log('🎯 Coach Mission Control mit Admin Dashboard geladen');
        console.log('📊 5 Tabs verfügbar: Klienten, Coaching, Kollaboration, Coach-KI, Admin Dashboard');
    </script>
</body>
</html>
